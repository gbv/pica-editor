<!doctype html>
<html lang="en">
 <head>
  <meta charset="utf-8">
  <title>pica-editor demo (UMD)</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <!-- use local file -->
  <link rel="stylesheet" href="../dist/pica-editor.css">
  <style>
    pre { padding: 4px; }
    .CodeMirror { height: auto; }
    h1, h2, h3 { font-family: sans-serif; }
  </style>
  <script src="//unpkg.com/vue@3.0.0-rc.8"></script>
  <script src="//unpkg.com/codemirror@5.57.0"></script>
  <script src="//unpkg.com/codemirror@5.57.0"></script>
  <script src="//unpkg.com/codemirror@5.57.0/mode/xml/xml.js"></script>
  <!-- use local file -->
  <script src="../dist/pica-editor.js"></script>
 </head>
 <body>
  <h1>pica-editor demo (UMD)</h1>
  <p>
    This example illustrates direct use of
    <a href="https://github.com/gbv/pica-editor/">pica-editor</a>
    in the browser with its UMD release. 
    If you are going to build a more complex application, better
    <a href="esm.html">use the ESM release</a> and a JavaScript bundler.
  </p>
  <h2>Basic usage</h2>
  </p>
    First include <a href="https://codemirror.net/">CodeMirror</a> and 
    <a href="https://v3.vuejs.org/">Vue.js 3</a> libraries:
  </p>
  <pre class="html">
  &lt;script src="https://unpkg.com/codemirror">&lt;/script>
  &lt;script src="https://unpkg.com/vue@next">&lt;/script></pre>
  <p>
    Then include the 
    <a href="https://github.com/gbv/pica-editor/tree/master/dist/pica-editor.js">pica-editor library</a>
    and its CSS file. The latter contains CodeMirror CSS, so no additional stylesheets are needed:
  </p>
  <pre class="html">
  &lt;script src="https://unpkg.com/pica-editor">&lt;/script>
  &lt;link rel="stylesheet" href="https://unpkg.com/pica-editor/dist/pica-editor.css"></pre>
  <p>
    The library defines a custom HTML element <code>pica-editor</code>
    to be used inside applications:
  </p>
<pre class="html">  &lt;div id="app">
    ...
    &lt;pica-editor>003@ $012345&lt;/pica-editor>
    ...
  &lt;/div></pre>
  <p>
    The custom HTML element needs to be registered as component for each Vue application:
  </p>
  <pre class="html">  &lt;script>Vue.createApp({ components: { PicaEditor } }).mount("#app")&lt;/script></pre>
  <div id="app">
    <h2>Examples</h2>
    <div class="example">
<pica-editor>003@ $012345</pica-editor>
    </div>
    <div class="example">
<pica-editor :picabase="'http://opac.k10plus.de/'">003@ $0355973081</pica-editor>
    </div>
  </div>
</body>
<script>
Array.from(document.getElementsByClassName("example")).forEach(ex => {
  const pre = document.createElement("pre")
  pre.className = "html"
  pre.appendChild(document.createTextNode(ex.innerHTML))
  ex.parentNode.insertBefore(pre, ex)
})

function syntaxHighlight(name, mode) {
  Array.from(document.getElementsByClassName(name)).forEach(html => {
    CodeMirror(function(e) { html.parentNode.replaceChild(e, html) },{
      value: html.innerText,
      mode,
      htmlMode: true,
      readOnly: true
    })
  })
}
syntaxHighlight('html', 'xml')
syntaxHighlight('pica', 'pica')

Vue.createApp({ components: { PicaEditor } }).mount("#app")
</script>
</html>
